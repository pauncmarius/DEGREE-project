<div class="team-details-container" *ngIf="team">
    <h1>{{ team.teamName }}</h1>
    <p><strong>Antrenor:</strong> {{ team.coachName }}</p>
    <p><strong>Descriere:</strong> {{ team.description || 'FÄƒrÄƒ descriere.' }}</p>
</div><br>

<div *ngIf="players.length > 0" class="players-section">
  <h2>Lotul echipei</h2>
  <ul>
    <li *ngFor="let player of players">
      <strong>{{ player.playerName }}</strong> -
      {{ player.position }}, {{ calculateAge(player.birthDate) }} ani
    </li>
  </ul>
</div><br>

<div *ngIf="players.length === 0">
  <p>Nu existÄƒ jucÄƒtori Ã®nregistraÈ›i pentru aceastÄƒ echipÄƒ.</p>
</div><br>


<div class="games-list" *ngIf="games.length > 0">
  <h2>Meciuri disputate / programate</h2>
  <ul>
    <li *ngFor="let game of games">
      {{ game.gameDate | date:'shortDate' }} -
      {{ game.homeTeamName }} |{{ game.homeTeamScore }} vs {{ game.awayTeamScore }}| {{ game.awayTeamName }}
      <span *ngIf="game.isPlayed">âœ…</span>
      <span *ngIf="!game.isPlayed">ðŸ•’</span> -
      <em>{{ game.competitionName }}</em>
    </li>
    
  </ul>
  
</div>
<div class="no-games" *ngIf="games.length === 0">
  <p>Nu sunt meciuri disponibile pentru aceastÄƒ echipÄƒ.</p>  
</div><br>


<div *ngFor="let compId of standingsCompetitionIds">
  <div class="standings">
    <h3>CompetiÈ›ie: {{ competitionNames[compId] || 'FÄƒrÄƒ nume' }}</h3>

    <div class="tabs">
      <button (click)="activeTabMap[compId] = 'standings'"
              [class.active]="activeTabMap[compId] === 'standings'">Per total</button>
      <button (click)="activeTabMap[compId] = 'scorers'"
              [class.active]="activeTabMap[compId] === 'scorers'">Marcatori</button>
    </div>

    <div *ngIf="activeTabMap[compId] === 'standings'">
      <table>
        <thead>
          <tr>
            <th>Loc</th>
            <th>EchipÄƒ</th>
            <th>M</th>
            <th>V</th>
            <th>E</th>
            <th>ÃŽ</th>
            <th>GM</th>
            <th>GP</th>
            <th>DG</th>
            <th>Pts</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stat of standingsMap[compId]; let i = index"
              [ngClass]="{ 'highlight': stat.id === teamId }">
            <td>{{ i + 1 }}</td>
            <td>{{ stat.teamName }}</td>
            <td>{{ stat.gamesPlayed }}</td>
            <td>{{ stat.totalWins }}</td>
            <td>{{ stat.totalDraws }}</td>
            <td>{{ stat.totalLosses }}</td>
            <td>{{ stat.goalsScored }}</td>
            <td>{{ stat.goalsConceded }}</td>
            <td>{{ stat.goalsScored - stat.goalsConceded }}</td>
            <td>{{ stat.totalPoints }}</td>
          </tr>
        </tbody>
      </table>
      
    </div>

    <div *ngIf="activeTabMap[compId] === 'scorers'">
      <table>
        <thead>
          <tr>
            <th>Loc</th>
            <th>JucÄƒtor</th>
            <th>EchipÄƒ</th>
            <th>Goluri</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let scorer of scorersMap[compId]; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ scorer.playerName }}</td>
            <td>{{ scorer.teamName }}</td>
            <td>{{ scorer.goals }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>



<div *ngIf="standingsCompetitionIds.length === 0" class="no-standings">
  <p>Nu existÄƒ clasamente disponibile pentru aceastÄƒ echipÄƒ.</p>
</div>
